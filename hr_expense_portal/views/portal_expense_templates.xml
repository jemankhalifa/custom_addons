<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="portal_my_expenses" name="My Expenses">
        <t t-call="website.layout">
        <t t-set="no_footer" t-value="True"/>
        <t t-set="no_header" t-value="True"/>
            <div class="container">
                <h3>My Expenses</h3>
                <table class="table table-sm table-striped table-hover o_list_view table-bordered">
                    <thead>
                        <tr>
                            <th>Employee</th>
                            <th>Amount</th>
                            <th>Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="expenses" t-as="expense">
                            <tr>
                                <td><t t-esc="expense.name"/></td>
                                <td><t t-esc="expense.amount"/></td>
                                 <td><t t-esc="expense.date"/></td>
                                <td><t t-esc="expense.state"/></td>
                            </tr>
                        </t>
                    </tbody>
                </table>
                <a href="/my/expense/create" class="btn btn-primary mb-3">Create New Expense</a>
            </div>
        </t>
    </template>

    <template id="portal_create_expense_form" name="Create Expense Form">
    <t t-call="website.layout">
    <t t-set="no_footer" t-value="True"/>
    <t t-set="no_header" t-value="True"/>
        <div class="container mt-5">
            <h3>Create New Expense</h3>
            <form action="/my/expense/submit" method="post" class="mt-4">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <div class="form-group">
                    <label>Employee Name</label>
                    <input type="text" name="employee" t-att-value="employee_name" class="form-control" readonly="readonly"/>
                </div>
                <div class="form-group mt-2">
                    <label>Amount</label>
                    <input type="number" name="amount" class="form-control" required="required"/>
                </div>
                <div class="form-group mt-2">
                    <label>Date</label>
                    <input type="date" name="date" class="form-control" required="required"/>
                </div>
                <div class="form-group mt-2">
                    <label>Notes</label>
                    <textarea name="notes" class="form-control" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-success mt-3">Submit</button>
            </form>
        </div>
    </t>
</template>

</odoo>
